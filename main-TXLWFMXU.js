import{f as L,h as V,l as B}from"./chunk-NULH4TFE.js";import{Ca as _,D as l,Db as W,Ja as U,K as f,Lb as T,N as d,Na as F,O as k,Pa as O,Q as S,Sb as x,T as I,Tb as G,U as M,V as m,W as A,_a as j,a as P,ba as N,g as w,j as E,r as u,y as p,z as y}from"./chunk-YJAG7FBE.js";var H=[{path:"init",loadComponent:()=>import("./chunk-YAAYZMUP.js"),children:[{path:"inicio",loadComponent:()=>import("./chunk-YCEVZKDA.js")},{path:"map",loadComponent:()=>import("./chunk-UBB22AGO.js")},{path:"favoritos",loadComponent:()=>import("./chunk-NRXGJ26X.js")},{path:"events",loadComponent:()=>import("./chunk-IUYRZFQJ.js")},{path:"event/:id",loadComponent:()=>import("./chunk-HDGSDESE.js")},{path:"**",redirectTo:"inicio",pathMatch:"full"}]},{path:"**",redirectTo:"init",pathMatch:"full"}];var D="Service workers are disabled or not supported by this browser",h=class{serviceWorker;worker;registration;events;constructor(n,t){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new w(r=>r.error(new d(5601,!1)));else{let r=null,e=new E;this.worker=new w(a=>(r!==null&&a.next(r),e.subscribe(b=>a.next(b))));let s=()=>{let{controller:a}=n;a!==null&&(r=a,e.next(r))};n.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(f(()=>n.getRegistration().then(a=>{if(!a)throw new d(5601,!1);return a})));let i=new E;this.events=i.asObservable();let c=a=>{let{data:b}=a;b?.type&&i.next(b)};n.addEventListener("message",c),t?.get(O,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",s),n.removeEventListener("message",c)})}}postMessage(n,t){return new Promise(r=>{this.worker.pipe(l(1)).subscribe(e=>{e.postMessage(P({action:n},t)),r()})})}postMessageWithOperation(n,t,r){let e=this.waitForOperationCompleted(r),s=this.postMessage(n,t);return Promise.all([s,e]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=r=>r.type===n:t=r=>n.includes(r.type),this.events.pipe(y(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(l(1))}waitForOperationCompleted(n){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(y(e=>e.nonce===n),l(1),u(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},Y=(()=>{class o{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new E;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=p,this.notificationClicks=p,this.notificationCloses=p,this.pushSubscriptionChanges=p,this.subscription=p;return}this.messages=this.sw.eventsOfType("PUSH").pipe(u(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(u(e=>e.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(u(e=>e.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(u(e=>e.data)),this.pushManager=this.sw.registration.pipe(u(e=>e.pushManager));let r=this.pushManager.pipe(f(e=>e.getSubscription()));this.subscription=new w(e=>{let s=r.subscribe(e),i=this.subscriptionChanges.subscribe(e);return()=>{s.unsubscribe(),i.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(D));let r={userVisibleOnly:!0},e=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)s[i]=e.charCodeAt(i);return r.applicationServerKey=s,new Promise((i,c)=>{this.pushManager.pipe(f(g=>g.subscribe(r)),l(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),i(g)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(D));let t=r=>{if(r===null)throw new d(5602,!1);return r.unsubscribe().then(e=>{if(!e)throw new d(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,e)=>{this.subscription.pipe(l(1),f(t)).subscribe({next:r,error:e})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||o)(M(h))};static \u0275prov=S({token:o,factory:o.\u0275fac})}return o})(),$=(()=>{class o{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=p,this.unrecoverable=p;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(D));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new d(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||o)(M(h))};static \u0275prov=S({token:o,factory:o.\u0275fac})}return o})();var Z=new I("");function J(){let o=m(v);if(!("serviceWorker"in navigator&&o.enabled!==!1))return;let n=m(Z),t=m(U),r=m(O);t.runOutsideAngular(()=>{let e=navigator.serviceWorker,s=()=>e.controller?.postMessage({action:"INITIALIZE"});e.addEventListener("controllerchange",s),r.onDestroy(()=>{e.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let e,{registrationStrategy:s}=o;if(typeof s=="function")e=new Promise(i=>s().subscribe(()=>i()));else{let[i,...c]=(s||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":e=Promise.resolve();break;case"registerWithDelay":e=K(+c[0]||0);break;case"registerWhenStable":e=Promise.race([r.whenStable(),K(+c[0])]);break;default:throw new d(5600,!1)}}e.then(()=>{r.destroyed||navigator.serviceWorker.register(n,{scope:o.scope}).catch(i=>console.error(k(5604,!1)))})})}function K(o){return new Promise(n=>setTimeout(n,o))}function Q(o,n){return new h(o.enabled!==!1?navigator.serviceWorker:void 0,n)}var v=class{enabled;scope;registrationStrategy};function R(o,n={}){return A([Y,$,{provide:Z,useValue:o},{provide:v,useValue:n},{provide:h,useFactory:Q,deps:[v,N]},F(J)])}var z={providers:[W({eventCoalescing:!0}),B(H),x(),R("ngsw-worker.js",{enabled:!T(),registrationStrategy:"registerWhenStable:30000"}),R("ngsw-worker.js",{enabled:!T(),registrationStrategy:"registerWhenStable:30000"}),{provide:"APP_STORAGE",useValue:window.localStorage},{provide:"APP_GEOLOCATION",useValue:window.navigator.geolocation}]};var C=class o{title="enjoy";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=_({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&j(0,"router-outlet")},dependencies:[V],encapsulation:2})};G.production&&void 0;L(C,z).catch(o=>console.error(o));
